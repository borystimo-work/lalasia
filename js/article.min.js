import{a as L,d as S,s as q,b as T,c as E}from"./app.min.js";import"./slider.min.js";import"./watcher.min.js";function g(){const a=document.querySelectorAll("[data-fls-tabs]");let l=[];if(a.length>0){const e=L();e&&e.startsWith("tab-")&&(l=e.replace("tab-","").split("-")),a.forEach((t,d)=>{t.classList.add("--tab-init"),t.setAttribute("data-fls-tabs-index",d),t.addEventListener("click",o),u(t)});let s=S(a,"flsTabs");s&&s.length&&s.forEach(t=>{t.matchMedia.addEventListener("change",function(){b(t.itemsArray,t.matchMedia)}),b(t.itemsArray,t.matchMedia)})}function b(e,s){e.forEach(t=>{t=t.item;let d=t.querySelector("[data-fls-tabs-titles]"),i=t.querySelectorAll("[data-fls-tabs-title]"),r=t.querySelector("[data-fls-tabs-body]"),n=t.querySelectorAll("[data-fls-tabs-item]");i=Array.from(i).filter(c=>c.closest("[data-fls-tabs]")===t),n=Array.from(n).filter(c=>c.closest("[data-fls-tabs]")===t),n.forEach((c,y)=>{s.matches?(r.append(i[y]),r.append(c),t.classList.add("--tab-spoller")):(d.append(i[y]),t.classList.remove("--tab-spoller"))})})}function u(e){let s=e.querySelectorAll("[data-fls-tabs-titles]>*"),t=e.querySelectorAll("[data-fls-tabs-body]>*");const d=e.dataset.flsTabsIndex,i=l[0]==d;if(i){const r=e.querySelector("[data-fls-tabs-titles]>.--tab-active");r&&r.classList.remove("--tab-active")}t.length&&t.forEach((r,n)=>{s[n].setAttribute("data-fls-tabs-title",""),r.setAttribute("data-fls-tabs-item",""),i&&n==l[1]&&s[n].classList.add("--tab-active"),r.hidden=!s[n].classList.contains("--tab-active")})}function f(e){let s=e.querySelectorAll("[data-fls-tabs-title]"),t=e.querySelectorAll("[data-fls-tabs-item]");const d=e.dataset.flsTabsIndex;function i(n){if(n.hasAttribute("data-fls-tabs-animate"))return n.dataset.flsTabsAnimate>0?Number(n.dataset.flsTabsAnimate):500}const r=i(e);if(t.length>0){const n=e.hasAttribute("data-fls-tabs-hash");t=Array.from(t).filter(c=>c.closest("[data-fls-tabs]")===e),s=Array.from(s).filter(c=>c.closest("[data-fls-tabs]")===e),t.forEach((c,y)=>{s[y].classList.contains("--tab-active")?(r?q(c,r):c.hidden=!1,n&&!c.closest(".popup")&&T(`tab-${d}-${y}`)):r?E(c,r):c.hidden=!0})}}function o(e){const s=e.target;if(s.closest("[data-fls-tabs-title]")){const t=s.closest("[data-fls-tabs-title]"),d=t.closest("[data-fls-tabs]");if(!t.classList.contains("--tab-active")&&!d.querySelector(".--slide")){let i=d.querySelectorAll("[data-fls-tabs-title].--tab-active");i.length&&(i=Array.from(i).filter(r=>r.closest("[data-fls-tabs]")===d)),i.length&&i[0].classList.remove("--tab-active"),t.classList.add("--tab-active"),f(d)}e.preventDefault()}}}window.addEventListener("load",g);const A=document.getElementById("loadMore"),h=3;function v(){const a=document.querySelector(".tabs__title.--tab-active");return a&&a.dataset.filter||"all"}function m(a){const l=document.querySelector(".tabs__body");if(!l)return;const b=v(),u=Array.from(l.querySelectorAll(".articleitem, .articleiteminner"));let f=0;u.forEach(o=>{const e=o.dataset.category||"";(b==="all"||e===b)&&f<a?(o.style.display="",o.classList.add("fade-up"),setTimeout(()=>o.classList.add("show"),50),f++):(o.style.display="none",o.classList.remove("show"))}),l.dataset.visibleCount=f,p()}function p(){const a=document.querySelector(".tabs__body");if(!a||!A)return;const l=v(),b=Array.from(a.querySelectorAll(".articleitem, .articleiteminner")).filter(f=>l==="all"||f.dataset.category===l),u=parseInt(a.dataset.visibleCount||h,10);A.style.display=b.length>u?"block":"none"}document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".tabs__body")&&m(h)}),A?.addEventListener("click",()=>{const a=document.querySelector(".tabs__body");if(!a)return;const l=v(),b=Array.from(a.querySelectorAll(".articleitem, .articleiteminner")).filter(o=>l==="all"||o.dataset.category===l);let u=parseInt(a.dataset.visibleCount||h,10);const f=u+h;b.forEach((o,e)=>{e<f&&(o.style.display="",e>=u&&(o.classList.add("fade-up"),setTimeout(()=>o.classList.add("show"),50)))}),a.dataset.visibleCount=f,p()}),document.querySelectorAll(".tabs__title").forEach(a=>{a.addEventListener("click",()=>{document.querySelectorAll(".tabs__title").forEach(l=>l.classList.remove("--tab-active")),a.classList.add("--tab-active"),m(h)})});
